{"version":3,"sources":["../src/utils/normalizer-utils.js"],"names":["getLicenseInfo","name","version","license","repository","url","getLicense","getRepository","label","getHttpsRepository","getSshRepository","getGitHubUsernameRepository","type","httpsUrl","match","sshUrl","username"],"mappings":";;;;;;;AAAO,SAASA,cAAT,CAAwB;AAACC,EAAAA,IAAD;AAAOC,EAAAA,OAAP;AAAgBC,EAAAA,OAAhB;AAAyBC,EAAAA,UAAU,EAAE;AAACC,IAAAA;AAAD,MAAQ;AAA7C,CAAxB,EAA0E;AAC/E,SAAO;AACLJ,IAAAA,IADK;AAELC,IAAAA,OAFK;AAGLC,IAAAA,OAAO,EAAEG,UAAU,CAACH,OAAD,CAHd;AAILE,IAAAA,GAAG,EAAEE,aAAa,CAACF,GAAD,CAJb;AAKLG,IAAAA,KAAK,EAAG,GAAEP,IAAK,IAAGC,OAAQ;AALrB,GAAP;AAOD;;AAGD,SAASK,aAAT,CAAuBF,GAAvB,EAA4B;AAC1B,SAAOI,kBAAkB,CAACJ,GAAD,CAAlB,IAA2BK,gBAAgB,CAACL,GAAD,CAA3C,IAAoDM,2BAA2B,CAACN,GAAD,CAAtF;AACD;;AAED,SAASC,UAAT,CAAoBH,OAApB,EAA6B;AAC3B,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAOA,OAAP;AACD,GAFD,MAEO,IAAIA,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACS,IAAR,IAAgB,IAAvC,EAA6C;AAClD,WAAOT,OAAO,CAACS,IAAf;AACD,GAFM,MAEA;AACL,WAAO,SAAP;AACD;AACF;;AAED,SAASH,kBAAT,CAA4BJ,GAAG,GAAG,EAAlC,EAAsC;AACpC,QAAM,IAAIQ,QAAJ,IAAgBR,GAAG,CAACS,KAAJ,CAAU,gCAAV,KAA+C,EAArE;AACA,SAAOD,QAAP;AACD;;AAED,SAASH,gBAAT,CAA0BL,GAAG,GAAG,EAAhC,EAAoC;AAClC,QAAM,KAAIU,MAAJ,IAAcV,GAAG,CAACS,KAAJ,CAAU,uCAAV,KAAsD,EAA1E;;AACA,MAAIC,MAAM,IAAI,IAAd,EAAoB;AAClB,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAQ,WAAUA,MAAO,EAAzB;AACD;AACF;;AAED,SAASJ,2BAAT,CAAqCN,GAAG,GAAG,EAA3C,EAA+C;AAC7C,QAAM,GAAEW,QAAF,EAAYZ,UAAZ,IAA0BC,GAAG,CAACS,KAAJ,CAAU,2BAAV,KAA0C,EAA1E;;AACA,MAAIE,QAAQ,IAAI,IAAZ,IAAoBZ,UAAU,IAAI,IAAtC,EAA4C;AAC1C,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAQ,sBAAqBY,QAAS,IAAGZ,UAAW,EAApD;AACD;AACF","sourcesContent":["export function getLicenseInfo({name, version, license, repository: {url} = {}}) {\n  return {\n    name,\n    version,\n    license: getLicense(license),\n    url: getRepository(url),\n    label: `${name}@${version}`\n  };\n}\n\n\nfunction getRepository(url) {\n  return getHttpsRepository(url) || getSshRepository(url) || getGitHubUsernameRepository(url);\n}\n\nfunction getLicense(license) {\n  if (typeof license === 'string') {\n    return license;\n  } else if (license != null && license.type != null) {\n    return license.type;\n  } else {\n    return 'UNKNOWN';\n  }\n}\n\nfunction getHttpsRepository(url = '') {\n  const [,, httpsUrl] = url.match(/^(git\\+)?(https?:.+?)(\\.git)?$/) || [];\n  return httpsUrl;\n}\n\nfunction getSshRepository(url = '') {\n  const [,,,sshUrl] = url.match(/^git(\\+ssh)?:\\/\\/(.+?@)?(.+?)(\\.git)$/) || [];\n  if (sshUrl == null) {\n    return null;\n  } else {\n    return `https://${sshUrl}`;\n  }\n}\n\nfunction getGitHubUsernameRepository(url = '') {\n  const [,username, repository] = url.match(/^github.com:(.+?)\\/(.+?)$/) || [];\n  if (username == null || repository == null) {\n    return null;\n  } else {\n    return `https://github.com/${username}/${repository}`;\n  }\n}\n"],"file":"normalizer-utils.js"}